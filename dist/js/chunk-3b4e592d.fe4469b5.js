(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b4e592d"],{"13e9":function(e,a,t){},"1dde":function(e,a,t){var o=t("d039"),l=t("b622"),s=l("species");e.exports=function(e){return!o((function(){var a=[],t=a.constructor={};return t[s]=function(){return{foo:1}},1!==a[e](Boolean).foo}))}},"65f0":function(e,a,t){var o=t("861d"),l=t("e8b5"),s=t("b622"),r=s("species");e.exports=function(e,a){var t;return l(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!l(t.prototype)?o(t)&&(t=t[r],null===t&&(t=void 0)):t=void 0),new(void 0===t?Array:t)(0===a?0:a)}},8418:function(e,a,t){"use strict";var o=t("c04e"),l=t("9bf2"),s=t("5c6c");e.exports=function(e,a,t){var r=o(a);r in e?l.f(e,r,s(0,t)):e[r]=t}},"982f":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"commodityadd"},[t("h1",{staticClass:"tatle"},[e._v("添加商品")]),t("div",{staticClass:"box-content"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[t("el-input",{model:{value:e.merchandise.goodsname,callback:function(a){e.$set(e.merchandise,"goodsname",a)},expression:"merchandise.goodsname"}})],1),t("el-form-item",{attrs:{label:"商品分类",prop:"goodscategory"}},[t("el-cascader",{attrs:{options:e.options,placeholder:"请选择商品分类"},model:{value:e.merchandise.goodscategory,callback:function(a){e.$set(e.merchandise,"goodscategory",a)},expression:"merchandise.goodscategory"}})],1),t("el-form-item",{attrs:{label:"商品特色"}},[t("el-checkbox-group",{model:{value:e.merchandise.goodsfeature,callback:function(a){e.$set(e.merchandise,"goodsfeature",a)},expression:"merchandise.goodsfeature"}},[t("el-checkbox",{attrs:{label:"新品上市",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"主打产品",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"限时优惠",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"传统手艺",name:"goodsfeature"}}),t("br"),t("el-checkbox",{attrs:{label:"本地特色",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"原汁原味",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"食品新鲜",name:"goodsfeature"}}),t("el-checkbox",{attrs:{label:"第二单半价",name:"goodsfeature"}})],1)],1),t("el-form-item",{attrs:{label:"商品图片"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:8088/goods/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.merchandise.imgUrl?t("img",{staticClass:"avatar",attrs:{src:"http://127.0.0.1:8088/upload/goods/"+e.merchandise.imgUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"是否促销"}},[t("el-radio-group",{model:{value:e.merchandise.isPromotion,callback:function(a){e.$set(e.merchandise,"isPromotion",a)},expression:"merchandise.isPromotion"}},[t("el-radio",{attrs:{label:"促销"}}),t("el-radio",{attrs:{label:"不促销"}})],1)],1),t("el-form-item",{attrs:{label:"商品规格"}},[t("el-radio-group",{model:{value:e.merchandise.goodsstandard,callback:function(a){e.$set(e.merchandise,"goodsstandard",a)},expression:"merchandise.goodsstandard"}},[t("el-radio",{attrs:{label:"单规格",border:""}}),t("el-radio",{attrs:{label:"多规格",border:""}})],1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],attrs:{label:"包装费"}},[t("el-input-number",{attrs:{min:1,max:10,label:"描述文字"},model:{value:e.merchandise.packingexpense,callback:function(a){e.$set(e.merchandise,"packingexpense",a)},expression:"merchandise.packingexpense"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],attrs:{label:"起送价"}},[t("el-input-number",{attrs:{min:10,max:30,label:"描述文字"},model:{value:e.merchandise.goodsPrice,callback:function(a){e.$set(e.merchandise,"goodsPrice",a)},expression:"merchandise.goodsPrice"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!flag"}],staticClass:"table-box"},[t("el-button",{attrs:{size:"mini",plain:"",type:"primary",icon:"el-icon-plus"},on:{click:function(a){e.dialogFormVisible=!0}}},[e._v("添加")]),t("el-table",{staticStyle:{width:"642px"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"goodsstandard",label:"规格",width:"180"}}),t("el-table-column",{attrs:{prop:"packingexpense",label:"包装费",width:"180"}}),t("el-table-column",{attrs:{prop:"goodsPrice",label:"起送价",width:"180"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},on:{click:function(a){e.dialogFormVisible=!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",plain:"",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteTableCon(a.$index)}}},[e._v("删除")])]}}])})],1)],1),t("el-dialog",{attrs:{width:"440px",title:"多规格",visible:e.dialogFormVisible},on:{"update:visible":function(a){e.dialogFormVisible=a}}},[t("el-form",{staticStyle:{width:"300px"},attrs:{model:e.tableadd}},[t("el-form-item",{attrs:{label:"规格","label-width":"120px"}},[t("el-input",{staticClass:"standard-inp",attrs:{autocomplete:"off"},model:{value:e.tableadd.goodsstandard,callback:function(a){e.$set(e.tableadd,"goodsstandard",a)},expression:"tableadd.goodsstandard"}})],1),t("el-form-item",{attrs:{label:"包装费","label-width":"120px"}},[t("el-input-number",{attrs:{"controls-position":"centered",min:1,max:10,label:"描述文字"},model:{value:e.tableadd.packingexpense,callback:function(a){e.$set(e.tableadd,"packingexpense",a)},expression:"tableadd.packingexpense"}})],1),t("el-form-item",{attrs:{label:"起送价","label-width":"120px"}},[t("el-input-number",{attrs:{"controls-position":"centered",min:10,max:30,label:"描述文字"},model:{value:e.tableadd.goodsPrice,callback:function(a){e.$set(e.tableadd,"goodsPrice",a)},expression:"tableadd.goodsPrice"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(a){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.tableAdd}},[e._v("确 定")])],1)],1),t("el-form-item",{staticClass:"descride-bottom",attrs:{label:"商品描述"}},[t("el-input",{staticClass:"input",attrs:{type:"textarea"},model:{value:e.merchandise.goodsdesc,callback:function(a){e.$set(e.merchandise,"goodsdesc",a)},expression:"merchandise.goodsdesc"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.goodsEstablish}},[e._v("立即创建")]),t("el-button",[e._v("取消")])],1)],1)],1)])},l=[],s=(t("a15b"),t("a434"),t("96cf"),t("89ba")),r=t("c40e"),n={data:function(){return{merchandise:{goodsname:"",goodscategory:"",goodsfeature:[],imgUrl:"",isPromotion:"促销",goodsstandard:"单规格",goodsdesc:"",packingexpense:"",goodsPrice:""},tableData:[{goodsstandard:"默认",packingexpense:"0",goodsPrice:"20"}],tableadd:{goodsstandard:"默认",packingexpense:"0",goodsPrice:"20"},dialogFormVisible:!1,dialogVisible:!1,options:[{value:"饮品",label:"饮品",children:[{value:"热饮",label:"热饮",children:[{value:"咖啡",label:"咖啡"},{value:"奶茶",label:"奶茶"},{value:"果珍",label:"果珍"}]},{value:"凉饮",label:"凉饮",children:[{value:"凉茶",label:"凉茶"},{value:"果汁",label:"果汁"},{value:"啤酒",label:"啤酒"},{value:"汽水",label:"汽水"}]}]},{value:"美食",label:"美食",children:[{value:"小吃",label:"小吃",children:[{value:"串串",label:"串串"},{value:"烤肉",label:"烤肉"},{value:"火锅",label:"火锅"},{value:"冒菜",label:"冒菜"}]},{value:"夜宵",label:"夜宵",children:[{value:"烧烤",label:"烧烤"},{value:"海鲜",label:"海鲜"}]}]},{value:"早餐",label:"早餐",children:[{value:"稀饭",label:"稀饭",children:[{value:"生鲜",label:"生鲜"},{value:"老火",label:"老火"}]},{value:"面条",label:"面条",children:[{value:"小面",label:"小面"},{value:"刀削",label:"刀削"}]}]},{value:"其他",label:"其他",children:[{value:"日餐",label:"日餐",children:[{value:"寿司",label:"寿司"}]},{value:"法餐",label:"法餐",children:[{value:"牛排",label:"牛排"}]}]}]}},methods:{tableAdd:function(){this.tableData.unshift(this.tableadd),this.tableadd={goodsstandard:"默认",packingexpense:"0",goodsPrice:"20"},this.dialogFormVisible=!1},deleteTableCon:function(e){console.log(e),this.tableData.splice(e,1)},goodsEstablish:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var a,t,o,l,s,n,i,d,c,u,b,m,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.merchandise,t=a.goodsname,o=a.goodscategory,l=a.goodsfeature,s=a.imgUrl,n=a.isPromotion,i=a.goodsstandard,d=a.packingexpense,c=a.goodsPrice,u=a.goodsdesc,console.log(o),b={goodsname:t,goodscategory:o.join("/"),goodsfeature:JSON.stringify(l),imgUrl:s,isPromotion:n,standard:"单规格"===i?JSON.stringify([{goodsstandard:i,packingexpense:d,goodsPrice:c}]):JSON.stringify(this.tableData),packingexpense:d,goodsPrice:c,goodsdesc:u},console.log(this.merchandise),console.log(b.goodscategory),e.next=7,Object(r["a"])(b);case 7:m=e.sent,g=m.code,0===g&&this.$router.push("/home/commoditylist");case 10:case"end":return e.stop()}}),e,this)})));function a(){return e.apply(this,arguments)}return a}(),handleAvatarSuccess:function(e,a){console.log(e);var t=e.code,o=e.imgUrl;0===t&&(this.merchandise.imgUrl=o)},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t="image/png"===e.type,o=e.size/1024/1024<2;return a||t||this.$message.error("上传头像图片只能是 JPG或者PNG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&o}},computed:{flag:function(){return"单规格"===this.merchandise.goodsstandard}}},i=n,d=(t("e151"),t("2877")),c=Object(d["a"])(i,o,l,!1,null,"50f27260",null);a["default"]=c.exports},a15b:function(e,a,t){"use strict";var o=t("23e7"),l=t("44ad"),s=t("fc6a"),r=t("b301"),n=[].join,i=l!=Object,d=r("join",",");o({target:"Array",proto:!0,forced:i||d},{join:function(e){return n.call(s(this),void 0===e?",":e)}})},a434:function(e,a,t){"use strict";var o=t("23e7"),l=t("23cb"),s=t("a691"),r=t("50c4"),n=t("7b0b"),i=t("65f0"),d=t("8418"),c=t("1dde"),u=Math.max,b=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,a){var t,o,c,p,f,h,v=n(this),x=r(v.length),k=l(e,x),y=arguments.length;if(0===y?t=o=0:1===y?(t=0,o=x-k):(t=y-2,o=b(u(s(a),0),x-k)),x+t-o>m)throw TypeError(g);for(c=i(v,o),p=0;p<o;p++)f=k+p,f in v&&d(c,p,v[f]);if(c.length=o,t<o){for(p=k;p<x-o;p++)f=p+o,h=p+t,f in v?v[h]=v[f]:delete v[h];for(p=x;p>x-o+t;p--)delete v[p-1]}else if(t>o)for(p=x-o;p>k;p--)f=p+o-1,h=p+t-1,f in v?v[h]=v[f]:delete v[h];for(p=0;p<t;p++)v[p+k]=arguments[p+2];return v.length=x-o+t,c}})},b301:function(e,a,t){"use strict";var o=t("d039");e.exports=function(e,a){var t=[][e];return!t||!o((function(){t.call(null,a||function(){throw 1},1)}))}},c40e:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"d",(function(){return s})),t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return n}));var o=t("b775"),l=function(e){return o["a"].post("/goods/goodsadd",e)},s=function(e){return o["a"].get("/goods/goodslist",e)},r=function(e){return o["a"].get("/goods/goodsdel",e)},n=function(e){return o["a"].post("/goods/goodsedit",e)}},e151:function(e,a,t){"use strict";var o=t("13e9"),l=t.n(o);l.a},e8b5:function(e,a,t){var o=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=chunk-3b4e592d.fe4469b5.js.map