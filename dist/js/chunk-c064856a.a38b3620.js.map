{"version":3,"sources":["webpack:///./src/views/AccountManage/AccountAdd.vue?f697","webpack:///./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js-pure/modules/es.object.define-property.js","webpack:///./src/utils/reg.js","webpack:///./src/api/account.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js/object/define-property.js","webpack:///./node_modules/core-js-pure/features/object/define-property.js","webpack:///./node_modules/core-js-pure/es/object/define-property.js","webpack:///./src/views/AccountManage/AccountAdd.vue?1a5d","webpack:///src/views/AccountManage/AccountAdd.vue","webpack:///./src/views/AccountManage/AccountAdd.vue?e480","webpack:///./src/views/AccountManage/AccountAdd.vue"],"names":["_defineProperty","obj","key","value","enumerable","configurable","writable","$","DESCRIPTORS","objectDefinePropertyModile","target","stat","forced","sham","defineProperty","f","nameReg","pwdReg","registers","params","req","post","addAccount","accountlist","get","accountDel","batchdel","accountedit","checklogin","checkOldPwd","pwdedit","getAccountInfo","editAvatarImg","module","exports","path","Object","it","desc","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","ruleForm","rules","model","callback","$$v","$set","_n","expression","on","confirmAdd","resetForm","staticRenderFns","data","Error","username","pwd","namegroup","Benchmarking","methods","$refs","resetFields","validate","component"],"mappings":"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","file":"js/chunk-c064856a.a38b3620.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountAdd.vue?vue&type=style&index=0&id=ba0d197c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountAdd.vue?vue&type=style&index=0&id=ba0d197c&lang=less&scoped=true&\"","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","/* 工具函数  */\r\n\r\n//账号的正则验证  中文 长度 2 ~ 5 位\r\nexport const nameReg = () => /^[\\u4e00-\\u9fa5]{2,5}$/\r\n\r\n//密码的正则验证  //密码包含数字和英文，长度 3 ~ 12 位 \r\nexport const pwdReg = () => /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{3,12}$/","/**\r\n * 账号管理接口\r\n */\r\n\r\nimport req from '@/utils/request' //引入封装的axios\r\n\r\n//验证账号是否重复\r\nexport const registers = params => req.post('/account/registers', params)\r\n\r\n// 添加账号\r\nexport const addAccount = params => req.post('/account/accountadd', params)\r\n\r\n// 渲染列表(分页)\r\nexport const accountlist = params => req.get('/account/accountlist', params)\r\n\r\n// 单个删除\r\nexport const accountDel = params => req.get('/account/accountdel', params)\r\n\r\n//多个删除\r\nexport const batchdel = params => req.get('/account/accountbatchdel', params)\r\n\r\n//编辑\r\nexport const accountedit = params => req.post('/account/accountedit', params)\r\n\r\n//登录\r\nexport const checklogin = params => req.post('/account/checklogin', params)\r\n\r\n//原密码验证是否存在 验证旧密码\r\nexport const checkOldPwd = params => req.get('/account/checkoldpwd', params)\r\n\r\n//修改密码\r\nexport const pwdedit = params => req.post('/account/passwordedit', params)\r\n\r\n// 获取账号信息\r\nexport const getAccountInfo = params => req.get('/account/accountinfo', params)\r\n\r\n// 修改头像\r\nexport const editAvatarImg = params => req.get('/account/avataredit', params)\r\n\r\n \r\n \r\n\r\n\r\n\r\n\r\n","module.exports = require(\"core-js-pure/features/object/define-property\");","module.exports = require('../../es/object/define-property');\n","require('../../modules/es.object.define-property');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nvar defineProperty = module.exports = function defineProperty(it, key, desc) {\n  return Object.defineProperty(it, key, desc);\n};\n\nif (Object.defineProperty.sham) defineProperty.sham = true;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accoutadd\"},[_c('h1',{staticClass:\"tatle\"},[_vm._v(\"添加账户\")]),_c('div',{staticClass:\"box-content\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", _vm._n($$v))},expression:\"ruleForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"tetx\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.pwd),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"pwd\", $$v)},expression:\"ruleForm.pwd\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户组\",\"prop\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择用户组\"},model:{value:(_vm.ruleForm.namegroup),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"namegroup\", $$v)},expression:\"ruleForm.namegroup\"}},[_c('el-option',{attrs:{\"label\":\"超级管理员\",\"value\":\"超级管理员\"}}),_c('el-option',{attrs:{\"label\":\"高级管理员\",\"value\":\"高阶管理员\"}}),_c('el-option',{attrs:{\"label\":\"中级管理员\",\"value\":\"中级管理员\"}}),_c('el-option',{attrs:{\"label\":\"普通管理员\",\"value\":\"普通管理员\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmAdd}},[_vm._v(\"添加\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"accoutadd\">\r\n    <h1 class=\"tatle\">添加账户</h1>\r\n    <div class=\"box-content\">\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        status-icon\r\n        ref=\"ruleForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <el-form-item label=\"账号\" prop=\"username\">\r\n          <!-- @blur=\"Registers\" -->\r\n          <el-input v-model.number=\"ruleForm.username\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"密码\" prop=\"pwd\">\r\n          <el-input type=\"tetx\" v-model=\"ruleForm.pwd\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"用户组\" prop>\r\n          <el-select v-model=\"ruleForm.namegroup\" placeholder=\"请选择用户组\">\r\n            <el-option label=\"超级管理员\" value=\"超级管理员\"></el-option>\r\n            <el-option label=\"高级管理员\" value=\"高阶管理员\"></el-option>\r\n            <el-option label=\"中级管理员\" value=\"中级管理员\"></el-option>\r\n            <el-option label=\"普通管理员\" value=\"普通管理员\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <!-- <el-button type=\"primary\" @click=\"confirmAdd\">添加</el-button> -->\r\n          <el-button type=\"primary\" @click=\"confirmAdd\">添加</el-button>\r\n          <el-button @click=\"resetForm\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*  引入工具函数 */\r\nimport { nameReg, pwdReg } from \"../../utils/reg\";\r\n\r\n/*引入接口配置文件 */\r\nimport {\r\n  registers, //账号是否重复,\r\n  addAccount //添加账号\r\n} from \"../../api/account\";\r\n\r\nexport default {\r\n  data() {\r\n    /* 账号验证 */\r\n    const validateName = async (rule, value, callback) => {\r\n      // rule: 验证规则对象  value: 用户输入的值， callback: 回调函数\r\n\r\n      //发送ajax 请求  用于 验证\r\n      let { code, msg } = await registers({username:value} );\r\n\r\n      if (value === \"\") {\r\n        callback(new Error(\"账号不能为空\")); //非空\r\n        //正则验证\r\n      } else if (!rule.pattern.test(value)) { //账号正则\r\n        callback(new Error(\"中文,长度 2 ~ 5 位\"));\r\n      } else if (code === 2) { //账号是否重复\r\n        callback(new Error(msg));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    /* 密码验证 */\r\n    const validatepwd = (rule, value, callback) => {\r\n      // rule: 验证规则对象  value: 用户输入的值， callback: 回调函数\r\n      //非空\r\n      if (value === \"\") {\r\n        callback(new Error(\"密码不能为空\"));\r\n        //正则验证\r\n      } else if (!rule.pattern.test(value)) {\r\n        callback(new Error(\"密码包含数字和英文，长度 3 ~ 12 位\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      //表单内容\r\n      ruleForm: {\r\n        username: \"\", //用户名 昵称\r\n        pwd: \"\", //密码\r\n        namegroup: \"\" //用户组\r\n      },\r\n      Benchmarking: false, //用于 判断 账号是否重复\r\n      rules: {\r\n        //自定义的账号的验证\r\n        username: [\r\n          {\r\n            required: true,\r\n            validator: validateName,\r\n            pattern: nameReg(), // 验证规则\r\n            trigger: \"blur\" //  触发验证的方式\r\n          }\r\n        ],\r\n        //密码正则验证\r\n        pwd: [\r\n          {\r\n            required: true,\r\n            validator: validatepwd,\r\n            pattern: pwdReg(), // 验证规则\r\n            trigger: \"blur\" //  触发验证的方式\r\n          }\r\n        ],\r\n        //用户组的非空验证\r\n        namegroup: [\r\n          {\r\n            required: true,\r\n            required: true,\r\n            message: \"请你选择用户组\",\r\n            trigger: \"change\"\r\n          } // 非空\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    /* 重置 */\r\n    resetForm() {\r\n      this.$refs.ruleForm.resetFields();\r\n    },\r\n\r\n    /* 确认添加  接口添加*/\r\n    confirmAdd() {\r\n      this.$refs.ruleForm.validate(async valid => {\r\n        if (valid) {\r\n          console.log(\"前端的验证通过\");\r\n          console.log(this.ruleForm); //表单的所有数据\r\n          /* 调用接口  addAccount () 传入参数  this.ruleForm  aiait 这个是让他执行完才执行其代码  let {} 结构 后台返回的数据 */\r\n          let { code, msg } = await addAccount(this.ruleForm);\r\n\r\n          if (code === 0) {\r\n            /* 路由跳转 */\r\n            this.$router.push(\"/home/usernamelist\");\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.accoutadd {\r\n  width: 100%;\r\n  height: auto;\r\n  background: #fff;\r\n  box-shadow: 0 0 10px 2px #ccc;\r\n  padding-top: 30px;\r\n\r\n  .tatle {\r\n    font-size: 18px;\r\n    margin: 0 0 0 40px;\r\n  }\r\n  .box-content {\r\n    width: 100%;\r\n    height: 400px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .el-form {\r\n      width: 400px;\r\n\r\n      .el-select {\r\n        width: 300px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountAdd.vue?vue&type=template&id=ba0d197c&scoped=true&\"\nimport script from \"./AccountAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountAdd.vue?vue&type=style&index=0&id=ba0d197c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba0d197c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}